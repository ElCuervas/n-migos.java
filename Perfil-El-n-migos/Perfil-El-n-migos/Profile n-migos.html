<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Mi Perfil</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
        body {
            margin-top: 20px;
            color: #1a202c;
            text-align: left;
            background-color: #e2e8f0;
        }
        .main-body {
            padding: 15px;
        }
        .card {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
            background-color: #fff;
            border-radius: 0.25rem;
            border: none;
        }
        .card-body {
            padding: 1rem;
        }
        .edit-mode {
            display: none;
        }
        .badge-info {
            background-color: #3182ce;
            color: #fff;
            margin-right: 5px;
        }
        .btn-primary, .btn-success, .btn-danger, .btn-outline-primary {
            margin-right: 5px;
        }
        .modal-header, .modal-body {
            text-align: center;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="main-body">
        <nav aria-label="breadcrumb" class="main-breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="Catalogo.html">Inicio</a></li>
                <li class="breadcrumb-item active" aria-current="page">Mi Perfil</li>
            </ol>
        </nav>

        <!-- Perfilo -->
        <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="Img\TIO.png" alt="Usuario" width="200">
                            <div class="mt-3">
                                <h4>Mi perfil</h4>
                                <p class="text-secondary mb-1">"Un tio chill de cojones"</p>
                                <p class="text-muted font-size-sm">Ubicación: New York, San Bernardo, CL</p>
                                <button class="btn btn-outline-primary btn-sm">Cambiar Foto</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info del usuario -->
            <div class="col-md-8">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Nombre Completo</h6>
                            </div>
                            <div class="col-sm-7">
                                <span id="name-view" class="view-mode">Elvio Lado Perez</span>
                                <input id="name-edit" type="text" class="form-control edit-mode" value="Elvio Lado Perez">
                            </div>
                            <div class="col-sm-2 text-right">
                                <button class="btn btn-sm btn-outline-primary toggle-edit">Editar</button>
                                <button class="btn btn-sm btn-success edit-mode save-edit">Guardar</button>
                            </div>
                        </div>
                        <hr>

                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Correo Electrónico</h6>
                            </div>
                            <div class="col-sm-7">
                                <span id="email-view" class="view-mode">wuaj4j4j4j4@gmail.com</span>
                                <input id="email-edit" type="email" class="form-control edit-mode" value="wuaj4j4j4j4@gmail.com">
                            </div>
                            <div class="col-sm-2 text-right">
                                <button class="btn btn-sm btn-outline-primary toggle-edit">Editar</button>
                                <button class="btn btn-sm btn-success edit-mode save-edit">Guardar</button>
                            </div>
                        </div>
                        <hr>
                        
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Teléfono</h6>
                            </div>
                            <div class="col-sm-7">
                                <span id="phone-view" class="view-mode">666 727 696969</span>
                                <input id="phone-edit" type="text" class="form-control edit-mode" value="666 727 696969">
                            </div>
                            <div class="col-sm-2 text-right">
                                <button class="btn btn-sm btn-outline-primary toggle-edit">Editar</button>
                                <button class="btn btn-sm btn-success edit-mode save-edit">Guardar</button>
                            </div>
                        </div>
                        <hr>

                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Géneros Favoritos</h6>
                            </div>
                            <div class="col-sm-7">
                                <span id="genres-view" class="view-mode">
                                    <span class="badge badge-info">Action</span>
                                    <span class="badge badge-info">RPG</span>
                                    <span class="badge badge-info">Adventure</span>
                                </span>
                                <input id="genres-edit" type="text" class="form-control edit-mode" value="Action, RPG, Adventure">
                            </div>
                            <div class="col-sm-2 text-right">
                                <button class="btn btn-sm btn-outline-primary toggle-edit">Editar</button>
                                <button class="btn btn-sm btn-success edit-mode save-edit">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Biblioteca -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h5 class="card-title">Mis Juegos en Biblioteca</h5>
                        <div class="row">
                           
                            <div class="col-md-4">
                                <div class="card">
                                    <img src="Img\75404921007-botw.jpg" class="card-img-top" alt="Game Cover">
                                    <div class="card-body">
                                        <h6 class="card-title">The Legend of Zelda</h6>
                                        <p class="card-text">Rating: ★★★★★</p>
                                        <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#reviewModalZelda">Puntuar</button>
                                        <button class="btn btn-danger btn-sm">Eliminar</button>
                                    </div>
                                </div>
                            </div>
                           
                            <div class="col-md-4">
                                <div class="card">
                                    <img src="Img\AAAAAA.jpg" class="card-img-top" alt="Game Cover">
                                    <div class="card-body">
                                        <h6 class="card-title">Super Mario Odyssey</h6>
                                        <p class="card-text">Rating: ★★★★☆</p>
                                        <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#reviewModalMario">Puntuar</button>
                                        <button class="btn btn-danger btn-sm">Eliminar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="reviewModalZelda" tabindex="-1" role="dialog">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Puntuar: The Legend of Zelda</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <textarea class="form-control" rows="3" placeholder="Escribe tu reseña aquí..."></textarea>
                                <br>
                                <label>Puntaje:</label>
                                <select class="form-control">
                                    <option>1 Estrella</option>
                                    <option>2 Estrellas</option>
                                    <option>3 Estrellas</option>
                                    <option>4 Estrellas</option>
                                    <option>5 Estrellas</option>
                                </select>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary">Guardar</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="reviewModalMario" tabindex="-1" role="dialog">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Puntuar: Super Mario Odyssey</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <textarea class="form-control" rows="3" placeholder="Escribe tu reseña aquí..."></textarea>
                                <br>
                                <label>Puntaje:</label>
                                <select class="form-control">
                                    <option>1 Estrella</option>
                                    <option>2 Estrellas</option>
                                    <option>3 Estrellas</option>
                                    <option>4 Estrellas</option>
                                    <option>5 Estrellas</option>
                                </select>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary">Guardar</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recomendaciones -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h5 class="card-title">Recomendaciones para Ti</h5>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <img src="Img\Key_Art_02_layeredjpg (1).jpg" class="card-img-top" alt="Recomendado">
                                    <div class="card-body">
                                        <h6 class="card-title">Hollow Knight</h6>
                                        <button class="btn btn-primary btn-sm">Review</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Juegos Deseados -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h5 class="card-title">Mi Lista de Deseados</h5>
                        <ul class="list-group" id="wishlist">
                        </ul>
                        <div class="mt-3">
                            <input type="text" id="wishlist-input" class="form-control" placeholder="Nombre del juego">
                            <button class="btn btn-primary mt-2" id="wishlist-add">Añadir a Deseados</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- JS -->
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    $(document).ready(function() {
        // localStorage
        function loadProfile() {
            const profile = JSON.parse(localStorage.getItem('userProfile')) || {
                name: 'Elvio Lado Perez',
                email: 'wuaj4j4j4j4@gmail.com',
                phone: '666 727 696969',
                genres: 'Action, RPG, Adventure'
            };
            $('#name-view').text(profile.name);
            $('#email-view').text(profile.email);
            $('#phone-view').text(profile.phone);
            $('#genres-view').html(profile.genres.split(', ').map(g => `<span class="badge badge-info">${g}</span>`).join(' '));
            $('#name-edit').val(profile.name);
            $('#email-edit').val(profile.email);
            $('#phone-edit').val(profile.phone);
            $('#genres-edit').val(profile.genres);
        }

        function saveProfile() {
            const profile = {
                name: $('#name-edit').val(),
                email: $('#email-edit').val(),
                phone: $('#phone-edit').val(),
                genres: $('#genres-edit').val()
            };
            localStorage.setItem('userProfile', JSON.stringify(profile));
            loadProfile();
        }

        // Cargar y guardar 
        loadProfile();

        $('.toggle-edit').click(function() {
            const parent = $(this).closest('.row');
            parent.find('.view-mode').hide();
            parent.find('.edit-mode').show();
        });

        $('.save-edit').click(function() {
            saveProfile();
            const parent = $(this).closest('.row');
            parent.find('.view-mode').show();
            parent.find('.edit-mode').hide();
        });

        // Lista de deseados
        function loadWishlist() {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            $('#wishlist').empty();
            wishlist.forEach((game, index) => {
                $('#wishlist').append(`
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        ${game}
                        <button class="btn btn-sm btn-danger" onclick="removeFromWishlist(${index})">Quitar</button>
                    </li>
                `);
            });
        }

        function addToWishlist(game) {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            wishlist.push(game);
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            loadWishlist();
        }

        window.removeFromWishlist = function(index) {
            const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            wishlist.splice(index, 1);
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            loadWishlist();
        };

        $('#wishlist-add').click(function() {
            const game = $('#wishlist-input').val();
            if (game.trim()) {
                addToWishlist(game.trim());
                $('#wishlist-input').val('');
            }
        });

        loadWishlist();
    });
</script>
</body>
</html>
